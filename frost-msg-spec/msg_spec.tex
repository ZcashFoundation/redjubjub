% Created 2021-04-15 Thu 17:22
% Intended LaTeX compiler: pdflatex
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{grffile}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\hypersetup{colorlinks=true,linkcolor=blue}
\date{\today}
\title{FROST Messages \& Data Serialization}
\hypersetup{
 pdfauthor={m},
 pdftitle={FROST Messages \& Data Serialization},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 27.1 (Org mode 9.3.8)}, 
 pdflang={English}}
\begin{document}

\maketitle
\tableofcontents


\section{Overview}
\label{sec:org5ade9fe}
The following document describes the byte-level structure of messages sent in
FROST \cite{frost}. Each message consists of a fixed-sized header followed by the
actual payload of the message.

\section{Headers}
\label{sec:orge6828d4}
All messages have the following header:

\begin{center}
\begin{tabular}{rll}
Bytes & Field Name & Data Type\\
\hline
1 & \texttt{Message Type} & \texttt{u8}\\
1 & \texttt{Version} & \texttt{u8}\\
2 & \texttt{Sender ID} & \texttt{u16}\\
2 & \texttt{Receiver ID} & \texttt{u16}\\
\end{tabular}
\end{center}

The \texttt{Message Type} and \texttt{Version} fields specify the payload that follows after
the header. The sender is uniquely identified by the \texttt{Sender ID} \footnote{TODO: Consider other data types such as \texttt{u32} or \texttt{u64}.\label{orgfc727db}} field
and the receiver is uniquely identified by the \texttt{Receiver ID} \textsuperscript{\ref{orgfc727db}} field.

\section{Payload types}
\label{sec:orgd0a1d86}
Messages in FROST are split into three general domains. The following sections
describe each domain and its messages.

\subsection{Key Generation with DKG}
\label{sec:orged95a4f}
These messages are sent during the Distributed Key Generation (DKG).

\subsubsection{Round One}
\label{sec:orgcf8e86f}
Broadcast the public commitment vector \(\vec{C} = \langle \phi_0, \ldots,
\phi_{t-1} \rangle\) and the proof of knowledge \(\sigma = (R, \mu)\). \\

\noindent
\textbf{Header}:\\
\texttt{Message Type = 1}\\
\texttt{Version = 1}\\

\noindent
\textbf{Payload}:
\begin{center}
\begin{tabular}{rll}
Bytes & Description & Data Type\\
\hline
2 & Length \texttt{t} of the commitment vector & \texttt{u16}\\
512 \(\cdot\) \texttt{t} & Individual commitments \(\phi\)\textsubscript{j} & \texttt{[AffinePoint; t]}\\
256 & The value \(R\) & \texttt{Scalar}\\
256 & The value \(\mu\) & \texttt{Scalar}\\
\end{tabular}
\end{center}

\subsubsection{Round Two}
\label{sec:orgb7182fe}
Broadcast the secret shares \(f(l)\).\\

\noindent
\textbf{Header}:\\
\texttt{Message Type = 2}\\
\texttt{Version = 1}\\

\noindent
\textbf{Payload}:
\begin{center}
\begin{tabular}{rll}
Bytes & Description & Data Type\\
\hline
256 & Secret share \(f(l)\) & \texttt{Scalar}\\
\end{tabular}
\end{center}


\subsection{Key Generation with Dealer}
\label{sec:org882e6c2}
\ldots{}\\

\noindent
\textbf{Header}:\\
\texttt{Message Type = 3}\\
\texttt{Version = 1}\\

\noindent
\textbf{Payload}:
\begin{center}
\begin{tabular}{lll}
Bytes & Description & Data Type\\
\hline
\ldots{} & \ldots{} & \ldots{}\\
\end{tabular}
\end{center}

\subsection{Signing}
\label{sec:orge294b22}
\ldots{}

\subsubsection{Round One}
\label{sec:orgff6b622}
Share signing commitments.\\

\noindent
\textbf{Header}:\\
\texttt{Message Type = 4}\\
\texttt{Version = 1}\\

\noindent
\textbf{Payload}:
\begin{center}
\begin{tabular}{lll}
Bytes & Description & Data Type\\
\hline
2 & Number of signing commitments \texttt{n} & \texttt{u16}\\
1024 \(\cdot\) \texttt{n} & Signing commitments & \texttt{[SigningCommitment; n]}\\
\end{tabular}
\end{center}

\subsubsection{Round Two}
\label{sec:org5af2c88}
\ldots{}\\

\noindent
\textbf{Header}:\\
\texttt{Message Type = 5}\\
\texttt{Version = 1}\\

\noindent
\textbf{Payload}:
\begin{center}
\begin{tabular}{lll}
Bytes & Description & Data Type\\
\hline
\ldots{} & \ldots{} & \ldots{}\\
\end{tabular}
\end{center}

\section{Data Types}
\label{sec:org0183d65}
\subsection{\texttt{AffinePoint}}
\label{sec:orgc3e9169}

\subsection{\texttt{Scalar}}
\label{sec:org58ade10}

\subsection{\texttt{SigningCommitment}}
\label{sec:org59fad63}


\bibliographystyle{plain}
\bibliography{refs}
\end{document}