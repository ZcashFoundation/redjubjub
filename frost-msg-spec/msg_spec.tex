% Created 2021-04-15 Thu 17:06
% Intended LaTeX compiler: pdflatex
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{grffile}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\hypersetup{colorlinks=true,linkcolor=blue}
\date{\today}
\title{FROST Messages \& Data Serialization}
\hypersetup{
 pdfauthor={m},
 pdftitle={FROST Messages \& Data Serialization},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 27.1 (Org mode 9.3.8)}, 
 pdflang={English}}
\begin{document}

\maketitle
\tableofcontents


\section{Overview}
\label{sec:orgcc4f13d}
The following document describes the byte-level structure of messages sent in
FROST \cite{frost}. Each message consists of a fixed-sized header followed by the
actual payload of the message.

\section{Headers}
\label{sec:orgb4d292b}
All messages have the following header:

\begin{center}
\begin{tabular}{rll}
Bytes & Field Name & Data Type\\
\hline
1 & \texttt{Message Type} & \texttt{u8}\\
1 & \texttt{Version} & \texttt{u8}\\
2 & \texttt{Sender ID} & \texttt{u16}\\
2 & \texttt{Receiver ID} & \texttt{u16}\\
\end{tabular}
\end{center}

The \texttt{Message Type} and \texttt{Version} fields specify the payload that follows after
the header. The sender is uniquely identified by the \texttt{Sender ID} \footnote{TODO: Consider other data types such as \texttt{u32} or \texttt{u64}.\label{orgdd265d5}} field
and the receiver is uniquely identified by the \texttt{Receiver ID} \textsuperscript{\ref{orgdd265d5}} field.

\section{Payload types}
\label{sec:orgc8202e0}
Messages in FROST are split into four general domains. The following sections
describe each domain and its messages.

\subsection{Key Generation with DKG}
\label{sec:org1de0023}
These messages are sent during the Distributed Key Generation (DKG).

\subsubsection{Round One}
\label{sec:org767acec}
Broadcast the public commitment vector \(\vec{C} = \langle \phi_0, \ldots,
\phi_{t-1} \rangle\) and the proof of knowledge \(\sigma = (R, \mu)\). \\

\noindent
\textbf{Header}:\\
\texttt{Message Type = 1}\\
\texttt{Version = 1}\\

\noindent
\textbf{Payload}:
\begin{center}
\begin{tabular}{rll}
Bytes & Description & Data Type\\
\hline
2 & Length \texttt{t} of the commitment vector & \texttt{u16}\\
512 \(\cdot\) \texttt{t} & Individual commitments \(\phi\)\textsubscript{j} & \texttt{[AffinePoint; t]}\\
256 & The value \(R\) & \texttt{Scalar}\\
256 & The value \(\mu\) & \texttt{Scalar}\\
\end{tabular}
\end{center}

\subsubsection{Round Two}
\label{sec:orgc70a22a}
Broadcast the secret shares \(f(l)\).\\

\noindent
\textbf{Header}:\\
\texttt{Message Type = 2}\\
\texttt{Version = 1}\\

\noindent
\textbf{Payload}:
\begin{center}
\begin{tabular}{rll}
Bytes & Description & Data Type\\
\hline
256 & Secret share \(f(l)\) & \texttt{Scalar}\\
\end{tabular}
\end{center}


\subsection{Key Generation with Dealer}
\label{sec:org5b0738a}
\ldots{}\\

\noindent
\textbf{Header}:\\
\texttt{Message Type = 3}\\
\texttt{Version = 1}\\

\noindent
\textbf{Payload}:
\begin{center}
\begin{tabular}{lll}
Bytes & Description & Data Type\\
\hline
\ldots{} & \ldots{} & \ldots{}\\
\end{tabular}
\end{center}

\subsection{Signing}
\label{sec:orgaecfcfc}
\ldots{}

\subsubsection{Round One}
\label{sec:orgbbade2f}
Share signing commitments.\\

\noindent
\textbf{Header}:\\
\texttt{Message Type = 4}\\
\texttt{Version = 1}\\

\noindent
\textbf{Payload}:
\begin{center}
\begin{tabular}{lll}
Bytes & Description & Data Type\\
\hline
2 & Number of signing commitments \texttt{n} & \texttt{u16}\\
1024 \(\cdot\) \texttt{n} & Signing commitments & \texttt{[SigningCommitment; n]}\\
\end{tabular}
\end{center}

\subsubsection{Round Two}
\label{sec:orgea81c2b}
\ldots{}\\

\noindent
\textbf{Header}:\\
\texttt{Message Type = 5}\\
\texttt{Version = 1}\\

\noindent
\textbf{Payload}:
\begin{center}
\begin{tabular}{lll}
Bytes & Description & Data Type\\
\hline
\ldots{} & \ldots{} & \ldots{}\\
\end{tabular}
\end{center}

\section{Data Types}
\label{sec:org8726550}
\subsection{\texttt{AffinePoint}}
\label{sec:org11730a3}

\subsection{\texttt{Scalar}}
\label{sec:orgcec565f}

\subsection{\texttt{SigningCommitment}}
\label{sec:orgfb6f0b9}


\bibliographystyle{plain}
\bibliography{refs}
\end{document}